<!------------------------------------ YOUTUBE CDODE  ------------------------------------>
<script>
  (function () {
    const CONFIG = {
        scaleStep: 0.1,
        translateStep: 1,
        minScale: 1,
        maxScale: 4
    };

    const INITIAL_STATE = {
        scale: 1.5,
        x: 0,
        y: 0
    };

    const state = {
        scale: INITIAL_STATE.scale,
        x: INITIAL_STATE.x,
        y: INITIAL_STATE.y
    };

    let zoomLabel;

    function injectCSS() {
        if (document.getElementById("custom-no-scroll-css")) return;

        const style = document.createElement("style");
        style.id = "custom-no-scroll-css";
        style.textContent = `
            .no-scroll button.branding-img-container.ytp-button,
            .no-scroll .ytp-cards-teaser-text {
                display: none !important;
            }

            .ytp-spinner {
                display: none !important;
            }
        `;
        document.head.appendChild(style);
    }

    function getVideo() {
        return document.querySelector(".no-scroll video");
    }

    function applyTransform() {
        const video = getVideo();
        if (!video) return;

        video.style.transform =
            `scale(${state.scale}) translate(${state.x}%, ${state.y}%)`;
    }

    function clamp(val, min, max) {
        return Math.min(Math.max(val, min), max);
    }

    function setPlaybackRate(rate) {
        const video = getVideo();
        if (!video) return;
        video.playbackRate = rate;
    }

    function createButton(label, onClick) {
        const btn = document.createElement("button");
        btn.textContent = label;
        btn.style.cssText = `
            font-size: 12px;
            padding: 2px 6px;
            margin-right: 4px;
            cursor: pointer;
        `;
        btn.addEventListener("click", onClick);
        return btn;
    }

    function createZoomLabel() {
        const div = document.createElement("div");
        div.style.cssText = `
            font-size: 12px;
            padding: 2px 6px;
            margin-right: 4px;
            min-width: 32px;
            text-align: center;
            user-select: none;
        `;
        div.textContent = state.scale.toFixed(1) + "×";
        return div;
    }

    function updateZoomLabel() {
        if (zoomLabel) {
            zoomLabel.textContent = state.scale.toFixed(1) + "×";
        }
    }

    function resetTransform() {
        state.scale = INITIAL_STATE.scale;
        state.x = INITIAL_STATE.x;
        state.y = INITIAL_STATE.y;

        applyTransform();
        updateZoomLabel();

        setPlaybackRate(0.5);
    }

    function injectControls() {
        const controls = document.querySelector(
            ".ytp-chrome-controls .ytp-left-controls"
        );
        if (!controls) return false;

        if (controls.querySelector(".custom-video-transform-controls")) {
            return true;
        }

        const container = document.createElement("div");
        container.className = "custom-video-transform-controls";
        container.style.display = "flex";
        container.style.alignItems = "center";

        container.append(
            createButton("Zoom +", () => {
                state.scale = clamp(
                    state.scale + CONFIG.scaleStep,
                    CONFIG.minScale,
                    CONFIG.maxScale
                );
                applyTransform();
                updateZoomLabel();
            }),
            (zoomLabel = createZoomLabel()),
            createButton("Zoom -", () => {
                state.scale = clamp(
                    state.scale - CONFIG.scaleStep,
                    CONFIG.minScale,
                    CONFIG.maxScale
                );
                applyTransform();
                updateZoomLabel();
            }),
            createButton("⇐", () => {
                state.x += CONFIG.translateStep;
                applyTransform();
            }),
            createButton("⇒", () => {
                state.x -= CONFIG.translateStep;
                applyTransform();
            }),
            createButton("⇑", () => {
                state.y += CONFIG.translateStep;
                applyTransform();
            }),
            createButton("⇓", () => {
                state.y -= CONFIG.translateStep;
                applyTransform();
            }),
            createButton("0.1×", () => {
                setPlaybackRate(0.1);
            }),
            createButton("Reset", resetTransform)
        );

        controls.appendChild(container);
        return true;
    }

    const observer = new MutationObserver(() => {
        injectCSS();
        if (injectControls()) {
            applyTransform();
        }
    });

    observer.observe(document.body, {
        childList: true,
        subtree: true
    });
})();

</script>


<!------------------------------------ YOUTUBE CDODE END  ------------------------------------>



<!------------------------------------ INSTAGRAM CDODE   ------------------------------------>
<script>
(function () {
  /* =======================
     Inject CSS
  ======================= */
  const css = `
html[lang] {
  overflow: auto !important;
}

article > .html-div > div:nth-child(2) {
  display: none;
}

div[role="dialog"] {
  display: none !important;
}

div:has(div[role="dialog"]) {
  background: #000 !important;
}

div[role="dialog"]:has(article) {
  display: flex !important;
}

div[role="dialog"] article video {
  position: fixed;
  top: 0vh !important;
  left: 50%;
  height: 100vh !important;
  background: #000;
  transform: translateX(-50%);
  object-fit: contain;
}

div[role="dialog"] * {
  box-shadow: unset !important;
}

button:has(svg[aria-label="Tags"]),
div[role="dialog"] div[aria-label="Play"] {
  display: none;
}

button:has(svg[aria-label="Audio is playing"]),
svg[aria-label="Close"] {
  opacity: 0;
  transition: opacity 0.3s;
}

button:has(svg[aria-label="Audio is playing"]):hover,
svg[aria-label="Close"]:hover {
  opacity: 1;
}

button:has(svg[aria-label="Next"]),
button:has(svg[aria-label="Go back"]) {
  background: #000;
  transition: background 0.3s;
}

svg[aria-label="Next"],
svg[aria-label="Go back"] {
  color: #000;
}

button:has(svg[aria-label="Next"]):hover,
button:has(svg[aria-label="Go back"]):hover {
  background: #fff;
}

.outter {
  opacity: 0;
  transition: opacity 0.3s;
}

.outter:hover {
  opacity: 1;
}
`;

  const style = document.createElement("style");
  style.textContent = css;
  document.head.appendChild(style);

  /* =======================
     Helpers
  ======================= */
  function getVideo() {
    return document.querySelector('div[role="dialog"] article video');
  }

  function getVH(value, fallback) {
    return value ? parseFloat(value) : fallback;
  }

  function setImportant(el, prop, value) {
    el.style.setProperty(prop, value, "important");
  }

  function addHoldAction(button, action) {
    let interval;

    button.addEventListener("mousedown", () => {
      action();
      interval = setInterval(action, 10);
    });

    ["mouseup", "mouseleave"].forEach((evt) =>
      button.addEventListener(evt, () => clearInterval(interval))
    );
  }

  /* =======================
     Video Actions
  ======================= */
  function increaseHeight() {
    const v = getVideo();
    if (!v) return;
    setImportant(v, "height", getVH(v.style.height, 100) + 1 + "vh");
  }

  function decreaseHeight() {
    const v = getVideo();
    if (!v) return;
    setImportant(
      v,
      "height",
      Math.max(1, getVH(v.style.height, 100) - 1) + "vh"
    );
  }

  function moveUp() {
    const v = getVideo();
    if (!v) return;
    setImportant(v, "top", getVH(v.style.top, 0) - 1 + "vh");
  }

  function moveDown() {
    const v = getVideo();
    if (!v) return;
    setImportant(v, "top", getVH(v.style.top, 0) + 1 + "vh");
  }

  function resetVideo() {
    const v = getVideo();
    if (!v) return;
    setImportant(v, "top", "0vh");
    setImportant(v, "height", "100vh");
  }

  /* =======================
     Inject Buttons
  ======================= */
  function injectButtons() {
    const nextButtons = document.querySelectorAll(
      'button:has(svg[aria-label="Next"])'
    );

    nextButtons.forEach((nextBtn) => {
      if (nextBtn.nextElementSibling?.classList.contains("custom-zoom-btns")) {
        return;
      }

      const wrapper = document.createElement("div");
      wrapper.className = "custom-zoom-btns";
      wrapper.style.display = "flex";
      wrapper.style.flexDirection = "column";
      wrapper.style.gap = "6px";
      wrapper.style.fontSize = "8px";
      wrapper.style.cursor = "pointer";

      const plusBtn = document.createElement("button");
      plusBtn.textContent = "+";

      const minusBtn = document.createElement("button");
      minusBtn.textContent = "-";

      const downBtn = document.createElement("button");
      downBtn.textContent = "↑";

      const upBtn = document.createElement("button");
      upBtn.textContent = "↓";

      const resetBtn = document.createElement("button");
      resetBtn.textContent = "↻";

      wrapper.append(plusBtn, minusBtn, downBtn, upBtn, resetBtn);
      nextBtn.insertAdjacentElement("afterend", wrapper);

      addHoldAction(plusBtn, increaseHeight);
      addHoldAction(minusBtn, decreaseHeight);
      addHoldAction(downBtn, moveDown);
      addHoldAction(upBtn, moveUp);

      resetBtn.addEventListener("click", resetVideo);
    });
  }

  injectButtons();

  const injectObserver = new MutationObserver(injectButtons);
  injectObserver.observe(document.body, {
    childList: true,
    subtree: true,
  });

  /* =======================
     Add .outter class
  ======================= */
  function addOutterClass() {
    const buttons = document.querySelectorAll(
      'button:has(svg[aria-label="Next"]), button:has(svg[aria-label="Go back"])'
    );

    buttons.forEach((btn) => {
      const parent = btn.parentElement;
      if (parent) parent.classList.add("outter");
    });
  }

  addOutterClass();

  const outterObserver = new MutationObserver(addOutterClass);
  outterObserver.observe(document.body, {
    childList: true,
    subtree: true,
  });
})();
</script>

<!------------------------------------ INSTAGRAM CODE END  ------------------------------------>
